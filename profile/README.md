# CompensaTX â€“ ë³´ìƒ íŠ¸ëœì­ì…˜ ê¸°ë°˜ ë¶„ì‚° í™˜ì „ ì‹œìŠ¤í…œ

## ì†Œê°œ

**CompensaTX**ëŠ” ì™„ì „íˆ ë¶„ë¦¬ëœ ì›í™”/ì™¸í™” ê³„ì¢Œ ì‹œìŠ¤í…œ(ê°ê¸° ë‹¤ë¥¸ DB, ì„œë²„) í™˜ê²½ì—ì„œ  
ì•ˆì „í•˜ê³  ê°•ì¸í•˜ê²Œ í™˜ì „Â·ì´ì²´ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” **Saga(ë³´ìƒ íŠ¸ëœì­ì…˜) íŒ¨í„´ ê¸°ë°˜ ë¶„ì‚° íŠ¸ëœì­ì…˜ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤.

- ì¥ì• /ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ë°œìƒ ì‹œì—ë„ ë°ì´í„° ì •í•©ì„±ì„ ë³´ì¥
- ìë™ ë³µêµ¬ ë° ìˆ˜ë™ ê°œì… ëª¨ë‘ ì§€ì›
- ì‹¤ì œ í† ìŠ¤ë±…í¬ì˜ ë¶„ì‚° í™˜ì „ êµ¬ì¡°ë¥¼ ë²¤ì¹˜ë§ˆí‚¹í•˜ì—¬ ì„¤ê³„

---

## **ğŸ‘¥ íŒ€ì› ì†Œê°œ**

| <img width="150px" src="https://avatars.githubusercontent.com/u/52108628?v=4"/> | <img width="150px" src="https://avatars.githubusercontent.com/u/76148385?v=4"/> | <img width="150px" src="https://avatars.githubusercontent.com/u/56614731?v=4"/> | <img width="150px" src="https://avatars.githubusercontent.com/u/87272634?v=4"/> |
| --- | --- | --- | --- |
| **ê³ íƒœìš°** | **ì´ì œí˜„** | **ì´ìš©í›ˆ** | **ì¥ì†¡í™”** |
| [@kohtaewoo](https://github.com/kohtaewoo) | [@lyjh98](https://github.com/lyjh98) | [@dldydgns](https://github.com/dldydgns) | [@songhajang](https://github.com/songhajang) |
| Kafka consumer | ì™¸í™”(OEHWA) ê³„ì¢Œ API ì„œë²„ | ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API ì„œë²„ | í”„ë¡ íŠ¸ì—”ë“œ UI <br> ì›í™”(KRW) ê³„ì¢Œ API ì„œë²„ |


## ğŸ“‚ ë ˆí¬ì§€í† ë¦¬ êµ¬ì¡°

| ë ˆí¬ | ì„¤ëª… | ë§í¬ |
|------|------|------|
| **compensaTX-BE** | Backend API ì„œë²„ (ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜, íŠ¸ëœì­ì…˜ íë¦„ ì œì–´) | [ğŸ”— ë°”ë¡œê°€ê¸°](https://github.com/Woori-compensaTX/compensaTX-BE) |
| **compensaTX-FE** | Frontend (Vue.js ê¸°ë°˜ UI) | [ğŸ”— ë°”ë¡œê°€ê¸°](https://github.com/Woori-compensaTX/compensaTX-FE) |
| **compensaTX-api-krw** | ì›í™”(KRW) ê³„ì¢Œ API ì„œë²„ (Oracle ê¸°ë°˜) | [ğŸ”— ë°”ë¡œê°€ê¸°](https://github.com/Woori-compensaTX/compensaTX-api-krw) |
| **compensaTX-api-oehwa** | ì™¸í™”(OEHW) ê³„ì¢Œ API ì„œë²„ (MySQL ê¸°ë°˜) | [ğŸ”— ë°”ë¡œê°€ê¸°](https://github.com/Woori-compensaTX/compensaTX-api-oehwa) |
| **compensaTX-consumer-krw** | ì›í™”(KRW) Kafka ì»¨ìŠˆë¨¸ (ê³ ê°€ìš©ì„± ì¸ìŠ¤í„´ìŠ¤ 2ê°œ) | [ğŸ”— ë°”ë¡œê°€ê¸°](https://github.com/Woori-compensaTX/compensaTX-consumer-krw) |
| **compensaTX-consumer-oehwa** | ì™¸í™”(OEHW) Kafka ì»¨ìŠˆë¨¸ (ê³ ê°€ìš©ì„± ì¸ìŠ¤í„´ìŠ¤ 2ê°œ) | [ğŸ”— ë°”ë¡œê°€ê¸°](https://github.com/Woori-compensaTX/compensaTX-consumer-oehwa) |
| **compensaTX-consumer-dlq** | DLQ ì „ìš© Kafka ì»¨ìŠˆë¨¸ (ë³´ìƒ íŠ¸ëœì­ì…˜ ì¬ì‹œë„/ë³µêµ¬) | [ğŸ”— ë°”ë¡œê°€ê¸°](https://github.com/Woori-compensaTX/compensaTX-consumer-dlq) |
| **.github** | GitHub Actions ë° ì›Œí¬í”Œë¡œ ì„¤ì • ì €ì¥ì†Œ | [ğŸ”— ë°”ë¡œê°€ê¸°](https://github.com/Woori-compensaTX/.github) |

---

## ì•„í‚¤í…ì²˜

<img width="1013" height="1030" alt="Image" src="https://github.com/user-attachments/assets/1d74c4c3-f222-40d7-8071-8def75f02701" />
 
 **í™˜ì „ ìš”ì²­ ì„œë²„ (Orchestrator)**  
 - ì „ì²´ í™˜ì „ ìš”ì²­ì„ ê´€ë¦¬í•˜ê³  ë™ê¸° í˜¸ì¶œë¡œ ì›í™”Â·ì™¸í™” ê³„ì¢Œ ì„œë²„ì— ì§ì ‘ ì—…ë°ì´íŠ¸ ìš”ì²­  
 - ì‹¤íŒ¨ ì‹œ Kafkaë¡œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•´ ë¹„ë™ê¸° ì¬ì‹œë„ ê²½ë¡œë¡œ ì „í™˜  

 **ì›í™”/ì™¸í™” ê³„ì¢Œ ì„œë²„**  
 - ê° í†µí™” ê³„ì¢Œë³„ ì…ì¶œê¸ˆ ì²˜ë¦¬ì™€ DB ì—°ë™  
 - (ì›í™”: Oracle, ì™¸í™”: MySQL)  

 **Kafka Broker**  
 - ì‹¤íŒ¨í•œ ìš”ì²­ì„ ë¹„ë™ê¸° ì¬ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ë©”ì‹œì§€ ë¸Œë¡œì»¤  
 - ê° Consumer ê·¸ë£¹(ì›í™”, ì™¸í™”)ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬  

 **KRW/OEHWA Consumer**  
 - ì¬ì‹œë„ ë¡œì§ì„ ìˆ˜í–‰í•˜ë©° DBë¥¼ ë‹¤ì‹œ ì—…ë°ì´íŠ¸  
 - ì²˜ë¦¬ ì‹¤íŒ¨ ì‹œ ë©”ì‹œì§€ë¥¼ DLQë¡œ ì´ë™  

 **DLQ Consumer**  
 - ì¬ì‹œë„ì—ë„ ì‹¤íŒ¨í•œ ìš”ì²­ì„ ìµœì¢… ë³´ìƒÂ·ì •ë¦¬ ì²˜ë¦¬  
 - ì¥ì•  ë˜ëŠ” ë³´ìƒ íŠ¸ëœì­ì…˜ ìƒí™©ì„ Slackìœ¼ë¡œ ì•Œë¦¼


---

## ğŸ—ï¸ ë¶„ì‚°í™˜ê²½ì—ì„œì˜ íŠ¸ëœì­ì…˜

### ê¸°ì¡´ ëª¨ë†€ë¦¬ì‹ ë°©ì‹

- ë‹¨ì¼ ì„œë²„, ë‹¨ì¼ DB â†’ DB íŠ¸ëœì­ì…˜ë§Œìœ¼ë¡œ ì›ìì„± ë³´ì¥

### MSA/ë¶„ì‚° í™˜ê²½ ë¬¸ì œ

- ì›í™”/ì™¸í™” ê³„ì¢Œ ì„œë²„ì™€ DBê°€ ë¶„ë¦¬ â†’ **ë‹¨ì¼ íŠ¸ëœì­ì…˜ ì ìš© ë¶ˆê°€**
- ì…ì¶œê¸ˆ ì¤‘ í•œìª½ë§Œ ì„±ê³µí•  ê²½ìš° **ë°ì´í„° ë¶ˆì¼ì¹˜(ì •í•©ì„± ë¬¸ì œ) ë°œìƒ**

---

## ğŸ’¡ ë¶„ì‚° íŠ¸ëœì­ì…˜ ê´€ë¦¬ ë°©ì‹

### 1. **2PC (Two-Phase Commit)**
- ì½”ë””ë„¤ì´í„°ê°€ ê° ì„œë²„ì˜ ì»¤ë°‹ ê°€ëŠ¥ì—¬ë¶€ë¥¼ ì§ˆì˜, ëª¨ë‘ OK ì‹œ ì»¤ë°‹, ì•„ë‹ˆë©´ ë¡¤ë°±
- **ë¬¸ì œì **:  
  - ëŠë¦° ì°¸ì—¬ìì— ì˜í•´ ì „ì²´ ì§€ì—°  
  - ê°€ìš©ì„±ê³¼ í™•ì¥ì„± ì €í•˜  
  - ë‹¨ì¼ ì¥ì• ì  ìœ„í—˜

### 2. **Saga(ë³´ìƒ íŠ¸ëœì­ì…˜) íŒ¨í„´**
- ê° ì„œë¹„ìŠ¤ê°€ **ë¡œì»¬ íŠ¸ëœì­ì…˜**ì„ ê°œë³„ ì»¤ë°‹, ì‹¤íŒ¨ ì‹œ ì´ë¯¸ ì»¤ë°‹ëœ ë¶€ë¶„ì„ **ë³´ìƒ íŠ¸ëœì­ì…˜**ìœ¼ë¡œ ë¡¤ë°±
- **ì¥ì **:  
  - ë†’ì€ í™•ì¥ì„±, ê°€ìš©ì„±  
  - ìƒˆë¡œìš´ ì„œë¹„ìŠ¤(ì¹´ë“œ, íšŒê³„ ë“±)ë„ ì°¸ì—¬ ìš©ì´
- **ë‹¨ì **:  
  - ì¤‘ê°„ìƒíƒœ ë…¸ì¶œ  
  - ë³´ìƒ íŠ¸ëœì­ì…˜ ì§ì ‘ êµ¬í˜„ í•„ìš”

---

## ğŸµ Saga ë°©ì‹ ì„ íƒê³¼ êµ¬ì¡°

- **Saga íŒ¨í„´ ì¤‘ â€˜ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë°©ì‹â€™** ì„ íƒ
  - ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°(í™˜ì „ ì„œë²„)ê°€ ì „ì²´ í”Œë¡œìš°ì™€ ìƒíƒœ ì¶”ì 
  - í™˜ì „ í•œë„, í˜„ì¬ ì§„í–‰ ìƒíƒœ ë“± ê´€ë¦¬ ìš©ì´


- **í™˜ì „ ì„œë²„**: ì „ì²´ í™˜ì „ ìƒíƒœ ê´€ë¦¬, ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ì—­í•   
- **ì›í™”/ì™¸í™” ê³„ì¢Œ ì„œë²„**: ê° ê³„ì¢Œë³„ ì…ì¶œê¸ˆ ë° DB ê´€ë¦¬  
- **Kafka/DLQ/Scheduler/Batch**: ì¥ì•  ì‹œ ë³´ìƒ íŠ¸ëœì­ì…˜, ìë™ ì¬ì‹œë„, ë”œë ˆì´ ë©”ì‹œì§€, ë°°ì¹˜ ë³µêµ¬ ë‹´ë‹¹  

---

## ì£¼ìš” íŠ¹ì§•

- **Saga(Orchestration) íŒ¨í„´ ê¸°ë°˜** ë¶„ì‚° íŠ¸ëœì­ì…˜ êµ¬í˜„  
- **ì¶œê¸ˆ â†’ ì…ê¸ˆ ìˆœ**ì˜ ì›ìì  í™˜ì „ ë° ë³´ìƒ íŠ¸ëœì­ì…˜ ì„¤ê³„  
- **Kafka DLQ ë° Scheduler**ë¡œ ì¥ì• /ì§€ì—° ìƒí™© ìë™ ë³µêµ¬  
- **State Table(ìƒíƒœ ë¡œê·¸)**ë¡œ ì „ì²´ ì´ë ¥ ë° ìƒíƒœ ì¶”ì   
- **Batch/Alert**ë¥¼ í†µí•œ ë¯¸ì²˜ë¦¬ í™˜ì „ ìë™/ìˆ˜ë™ ë³µêµ¬  
- **Loose Coupling**: ì‹ ê·œ ì„œë¹„ìŠ¤/ê³„ì¢Œ/ì°¸ì—¬ì ì†ì‰¬ìš´ í™•ì¥  

---

## íŠ¸ëœì­ì…˜/ë³´ìƒ íŠ¸ëœì­ì…˜ í”Œë¡œìš°

### 1. ì •ìƒ í”Œë¡œìš°

1. í™˜ì „ ì„œë²„ â†’ **ì›í™” ì¶œê¸ˆ ìš”ì²­** (HTTP)
2. ì¶œê¸ˆ ì„±ê³µ â†’ **ì™¸í™” ì…ê¸ˆ ìš”ì²­** (HTTP)
3. ì…ê¸ˆ ì„±ê³µ â†’ **í™˜ì „ ì„±ê³µ ì²˜ë¦¬**

### 2. ì‹¤íŒ¨ í”Œë¡œìš°

- ì¶œê¸ˆ ì‹¤íŒ¨ â†’ **ì¦‰ì‹œ í™˜ì „ ì‹¤íŒ¨ ì²˜ë¦¬**
- ì…ê¸ˆ ì‹¤íŒ¨ â†’ **ë³´ìƒ íŠ¸ëœì­ì…˜(ì¶œê¸ˆ ì·¨ì†Œ) ë©”ì‹œì§€** Kafkaë¡œ ë°œí–‰

### 3. ë¹„ì •ìƒ/ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ì²˜ë¦¬

- HTTP íƒ€ì„ì•„ì›ƒ/ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ë°œìƒì‹œ **Kafka Scheduler**ë¡œ ë”œë ˆì´ ì¬ì‹œë„
- ì—¬ëŸ¬ ì°¨ë¡€ ì‹¤íŒ¨ ì‹œ **Batch**ì—ì„œ ì¤‘ë‹¨ ìƒíƒœ íƒì§€, Alert í›„ ìˆ˜ë™/ìë™ ë³µêµ¬

### 4. DLQ/ë°ë“œë ˆí„°

- ë³´ìƒ íŠ¸ëœì­ì…˜ ë©”ì‹œì§€(ì¶œê¸ˆ ì·¨ì†Œ)ê°€ ì»¨ìŠˆë¨¸ì—ì„œ ì‹¤íŒ¨ â†’ **DLQ ì„œë²„**ì—ì„œ ìë™ ì¬ì‹œë„
- ì¼ì • íšŸìˆ˜ ì´ˆê³¼ ì‹œ ìš´ì˜ ê°œì…(ì½”ë“œ/ì„œë²„ ë³µêµ¬ í›„ ì¬ë°œí–‰)

### 5. íŠ¸ëœì­ì…”ë„ ë©”ì‹œì§•

- **í™˜ì „ ì‹¤íŒ¨ ì²˜ë¦¬ + ë³´ìƒ ë©”ì‹œì§€ ë°œí–‰**ì„ ì›ìì ìœ¼ë¡œ ì²˜ë¦¬ (Kafka Producer DLQ í™œìš©)

---

## ğŸ› ï¸ Trouble Shooting

ë¶„ì‚° í™˜ì „ ì‹œìŠ¤í…œ ê°œë°œ ê³¼ì •ì—ì„œ ì‹¤ì œë¡œ ê²ªì—ˆë˜ ì£¼ìš” ì´ìŠˆì™€ í•´ê²° ë°©ì•ˆì„ ê¸°ë¡í•©ë‹ˆë‹¤.

---

### 1. JPA ì—”í‹°í‹° ê°„ ì°¸ì¡° ì‹œ ID ê°’ ë§¤í•‘ ë¬¸ì œ

- **ë¬¸ì œ**  
  JPAì—ì„œ í•œ ì—”í‹°í‹°ê°€ ë‹¤ë¥¸ ì—”í‹°í‹°ë¥¼ ì°¸ì¡°(ì—°ê´€ê´€ê³„ ë§¤í•‘)í•  ë•Œ, ì°¸ì¡° ì—”í‹°í‹°ì˜ ê°ì²´ ìì²´ê°€ ì•„ë‹ˆë¼ **ID ê°’ë§Œ ì´ìš©í•´ ì¡°íšŒ**í•˜ê±°ë‚˜ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•´ì•¼ í•  ê²½ìš°ê°€ ìˆì—ˆìŒ.  
  ìµìˆ™í•˜ì§€ ì•Šì€ JPA ë¬¸ë²•(ì˜ˆ: `entity.field.id`, `@ManyToOne(fetch = FetchType.LAZY)` ë“±)ìœ¼ë¡œ ì¸í•´ ì ì ˆí•œ JPQL, Criteria, ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬ ì‘ì„±ì— ì–´ë ¤ì›€ì„ ê²ªìŒ.

- **í•´ê²°**  
  ê³µì‹ ë¬¸ì„œ ë° ì—¬ëŸ¬ ì˜ˆì œë“¤ì„ ì°¸ê³ í•˜ì—¬,  
  ì—°ê´€ ì—”í‹°í‹°ì˜ ID ê°’ë§Œ ì´ìš©í•œ ì¡°ê±´ ê²€ìƒ‰/ì¡°ì¸ ë°©ë²•ì„ í•™ìŠµí•˜ê³ ,  
  `join fetch` ë˜ëŠ” `where e.otherEntity.id = :id`ì™€ ê°™ì´ JPQLì—ì„œ ì—”í‹°í‹° ê°ì²´ê°€ ì•„ë‹Œ **ID ê°’ ê¸°ì¤€ì˜ ê²€ìƒ‰** ë°©ì‹ìœ¼ë¡œ ê°œì„ .

---

### 2. HTTP ì‘ë‹µ ì½”ë“œì™€ ë¹„ì¦ˆë‹ˆìŠ¤/ì‹œìŠ¤í…œ ì˜ˆì™¸ êµ¬ë¶„ ë¬¸ì œ

- **ë¬¸ì œ**  
  HTTP í†µì‹ ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìƒ ì‹¤íŒ¨(ì˜ˆ: ì”ì•¡ ë¶€ì¡± ë“±)ë¥¼ 599 ë“±ì˜ **5xx ì„œë²„ ì—ëŸ¬**ë¡œ ë°˜í™˜í–ˆë”ë‹ˆ,  
  ì‹œìŠ¤í…œ ì˜ˆì™¸ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ˆì™¸ê°€ ë™ì¼í•˜ê²Œ ì²˜ë¦¬ë˜ì–´  
  ì¬ì‹œë„/ì¥ì•  ê°ì§€/ì•Œë¦¼ ë“±ì—ì„œ í˜¼ì„  ë°œìƒ.

- **í•´ê²°**  
  ëª…í™•íˆ **ë¹„ì¦ˆë‹ˆìŠ¤ ì‹¤íŒ¨(ì˜ˆ: 200 OK + ì‹¤íŒ¨ ì‚¬ìœ  ë©”ì‹œì§€)**ì™€  
  **ì‹œìŠ¤í…œ ì¥ì• (5xx)**ë¥¼ êµ¬ë¶„í•˜ì—¬  
  ë¹„ì¦ˆë‹ˆìŠ¤ ì‹¤íŒ¨ëŠ” 2xx ìƒíƒœì½”ë“œ(ì£¼ë¡œ 200/202 ë“±)ë¡œ ë‚´ë ¤ì£¼ê³ ,  
  ì‹¤ì œ ì—ëŸ¬ ì •ë³´ëŠ” ë³¸ë¬¸(body)ì— ë‹´ì•„ ì»¨ìŠˆë¨¸ì—ì„œ ë¶„ê¸° ì²˜ë¦¬í•˜ë„ë¡ ìˆ˜ì •.

---

### 3. HTTP ì‹¤íŒ¨ ìš”ì²­ ì¬ì²˜ë¦¬ ì‹œ ì˜ì†ì„± ë° ID í• ë‹¹ ë¬¸ì œ

- **ë¬¸ì œ**  
  HTTP ì‹¤íŒ¨ ìš”ì²­ì„ Kafkaë¡œ ë„˜ê²¨ ì¼ì • ì‹œê°„ í›„ ì¬ì‹¤í–‰í•˜ëŠ” êµ¬ì¡°ì—ì„œ,  
  ì´ì „ ìš”ì²­ì˜ DTOë¥¼ ì´ìš©í•´ ì—”í‹°í‹°ë¥¼ ìƒˆë¡œ ë§Œë“¤ë©´ JPAì—ì„œ ì•„ì§ ì €ì¥í•˜ì§€ ì•Šì€ ì˜ì† ìƒíƒœë¼ **ID ê°’ì´ ì—†ìŒ**.  
  ì—”í‹°í‹° ìì²´ë¥¼ Kafkaë¡œ ë„˜ê¸°ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ë©°,  
  save() í˜¸ì¶œ ì‹œì—ëŠ” IDê°€ ìƒˆë¡œ ë¶€ì—¬ë˜ì–´ ì›ë˜ ìš”ì²­ê³¼ ë§¤ì¹­ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ ë°œìƒ.

- **í•´ê²°**  
  ìš”ì²­ DTOì— **UUID ë“± ê³ ìœ  ì‹ë³„ì**ë¥¼ í•„ìˆ˜ë¡œ í¬í•¨ì‹œì¼œ  
  Kafka Consumerì—ì„œëŠ” ì´ UUIDë¥¼ ì´ìš©í•´  
  ê¸°ì¡´ DBì—ì„œ ì—”í‹°í‹°ë¥¼ ì¡°íšŒ ë° ì¬ì²˜ë¦¬í•˜ë„ë¡ êµ¬ì¡° ê°œì„ .

---

### 4. Kafka DTO â†”ï¸ JSON ë³€í™˜ ì˜ˆì™¸ ê´€ë¦¬

- **ë¬¸ì œ**  
  Kafka í”„ë¡œë“€ì„œ/ì»¨ìŠˆë¨¸ ê°„ DTOì™€ JSON ë³€í™˜ ê³¼ì •ì—ì„œ  
  ë§¤í•‘ ì˜¤ë¥˜, í•„ë“œ ëˆ„ë½ ë“± íŒŒì‹± ì˜ˆì™¸ê°€ ë°œìƒí–ˆìœ¼ë‚˜  
  ë¹„ì¦ˆë‹ˆìŠ¤ íŠ¸ëœì­ì…˜ê³¼ëŠ” ì§ì ‘ ê´€ë ¨ì´ ì—†ì–´ ì‹œìŠ¤í…œ ë¡œì§ê³¼ í˜¼ì¬ë¨.

- **í•´ê²°**  
  Kafkaì˜ **Serializer/Deserializer** ì„¤ì •ì„ í†µì¼í•˜ê³   
  (ex: Jackson, Gson ë“± ëª…í™•íˆ ì¼ì¹˜ì‹œí‚¤ê³ , ë¶ˆì¼ì¹˜ ì‹œ ì˜ˆì™¸ ë°œìƒ),  
  JSON íŒŒì‹± ì˜ˆì™¸ë¥¼ Kafka ì„¤ì •ì—ì„œ ì²˜ë¦¬(ì¦‰, ê°œë³„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ try-catchë¡œ ì¡ì§€ ì•ŠìŒ)  
  â†’ **ì¹´í”„ì¹´ ì‹œìŠ¤í…œ ë ˆë²¨**ì—ì„œ ì˜ˆì™¸ ì²˜ë¦¬ ë° DLQë¡œ ìœ„ì„.

---

### 5. Kafka í† í”½ íŒŒì„œ ë¶ˆì¼ì¹˜ë¡œ ì¸í•œ ë³€í™˜ ì˜¤ë¥˜

- **ë¬¸ì œ**  
  Kafka í† í”½ ë°œí–‰ ì‹œ ì‚¬ìš©í•˜ëŠ” íŒŒì„œ(ì§ë ¬í™”/ì—­ì§ë ¬í™” ë°©ì‹)ê°€ ì„œë²„/ì„œë¹„ìŠ¤ë³„ë¡œ ì¼ì¹˜í•˜ì§€ ì•Šì•„  
  DTO â†”ï¸ JSON ë³€í™˜ì— ì‹¤íŒ¨, ë©”ì‹œì§€ ì†Œë¹„ ë¶ˆê°€

- **í•´ê²°**  
  **Kafka í”„ë¡œë“€ì„œ/ì»¨ìŠˆë¨¸ì˜ ì§ë ¬í™”/ì—­ì§ë ¬í™” íŒŒì„œ**ë¥¼ **í†µì¼**  
  (ë™ì¼í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì„¤ì • ì‚¬ìš©, DTO ìŠ¤í‚¤ë§ˆ/ë²„ì „ ê´€ë¦¬)  
  â†’ ë©”ì‹œì§€ í¬ë§· ì¼ê´€ì„± í™•ë³´

---

### 6. Kafka ì¥ì• ì‹œ ë³´ìƒ íŠ¸ëœì­ì…˜ ì¤‘ë‹¨(ë‹¨ì¼ ì¥ì• ì ) ë¬¸ì œ

- **ë¬¸ì œ**  
  Kafkaê°€ ë‹¤ìš´ë˜ë©´ ë³´ìƒ íŠ¸ëœì­ì…˜ì´ ë™ì‘í•˜ì§€ ì•Šì•„  
  **ì‚¬ìš©ì ìê¸ˆ ì†ì‹¤, ë°ì´í„° ë¶ˆì¼ì¹˜** ë“± ì¹˜ëª…ì  ë¦¬ìŠ¤í¬ ì¡´ì¬

- **í•´ê²°**  
  **Kafka ë¸Œë¡œì»¤ ë³µì œ(Replication) ë° í´ëŸ¬ìŠ¤í„°ë§** ì ìš©  
  - ìµœì†Œ 2ëŒ€ ì´ìƒì˜ ë¸Œë¡œì»¤ë¡œ êµ¬ì„±,  
  - íŒŒí‹°ì…˜/ë¦¬ë”/íŒ”ë¡œì›Œ êµ¬ì¡°ë¡œ í•œìª½ ì„œë²„ê°€ ì¥ì•  ë°œìƒ ì‹œì—ë„  
    ë‹¤ë¥¸ ë¸Œë¡œì»¤ê°€ **Failover**í•˜ì—¬ ë©”ì‹œì§€ ì†ì‹¤/ëˆ„ë½ ì—†ì´ ì²˜ë¦¬  
  â†’ ì‹œìŠ¤í…œì˜ **ê³ ê°€ìš©ì„±(HA)** ë° ì‹ ë¢°ì„± í™•ë³´

---

> ì‹¤ì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œ ë°œìƒí–ˆë˜ íŠ¸ëŸ¬ë¸”ì„ ê¸°ë°˜ìœ¼ë¡œ,  
> ì¥ì• /ì—ëŸ¬ ëŒ€ì‘ë ¥ê³¼ ë¶„ì‚° í™˜ê²½ì—ì„œì˜ ì¼ê´€ì„± ìˆëŠ” íŠ¸ëœì­ì…˜ ê´€ë¦¬ ê²½í—˜ì„ ì¶•ì í•˜ì˜€ìŠµë‹ˆë‹¤.


